<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Top-Down Synthesizer &mdash; QSynthesis 0.1 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Grammar" href="table.html" />
    <link rel="prev" title="TritonAst" href="tritonast.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> QSynthesis
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation.html"> Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api_usage.html"> API usage</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Plugin Usage</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../plugin/plugin_usage.html">IDA Plugin Walkthrough</a></li>
<li class="toctree-l1"><a class="reference internal" href="../plugin/plugin_usage.html#exploiting-results">Exploiting results</a></li>
<li class="toctree-l1"><a class="reference internal" href="../plugin/plugin_usage.html#debugging">Debugging</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Python API</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="tritonast.html">TritonAst</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Top-Down Synthesizer</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#qsynthesis.algorithms.synthesizer_td.TopDownSynthesizer"><code class="docutils literal notranslate"><span class="pre">TopDownSynthesizer</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#qsynthesis.algorithms.synthesizer_td.TopDownSynthesizer.eval_ast"><code class="docutils literal notranslate"><span class="pre">TopDownSynthesizer.eval_ast()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#qsynthesis.algorithms.synthesizer_td.TopDownSynthesizer.run_direct_synthesis"><code class="docutils literal notranslate"><span class="pre">TopDownSynthesizer.run_direct_synthesis()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#qsynthesis.algorithms.synthesizer_td.TopDownSynthesizer.synthesize"><code class="docutils literal notranslate"><span class="pre">TopDownSynthesizer.synthesize()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#qsynthesis.algorithms.synthesizer_td.TopDownSynthesizer.try_synthesis_lookup"><code class="docutils literal notranslate"><span class="pre">TopDownSynthesizer.try_synthesis_lookup()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#placeholder-based-synthesizer">Placeholder-based Synthesizer</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#qsynthesis.algorithms.synthesizer_plhld.PlaceHolderSynthesizer"><code class="docutils literal notranslate"><span class="pre">PlaceHolderSynthesizer</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#qsynthesis.algorithms.synthesizer_plhld.PlaceHolderSynthesizer.eval_ast"><code class="docutils literal notranslate"><span class="pre">PlaceHolderSynthesizer.eval_ast()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#qsynthesis.algorithms.synthesizer_plhld.PlaceHolderSynthesizer.replace_all"><code class="docutils literal notranslate"><span class="pre">PlaceHolderSynthesizer.replace_all()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#qsynthesis.algorithms.synthesizer_plhld.PlaceHolderSynthesizer.run_direct_synthesis"><code class="docutils literal notranslate"><span class="pre">PlaceHolderSynthesizer.run_direct_synthesis()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#qsynthesis.algorithms.synthesizer_plhld.PlaceHolderSynthesizer.synthesize"><code class="docutils literal notranslate"><span class="pre">PlaceHolderSynthesizer.synthesize()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#qsynthesis.algorithms.synthesizer_plhld.PlaceHolderSynthesizer.try_synthesis_lookup"><code class="docutils literal notranslate"><span class="pre">PlaceHolderSynthesizer.try_synthesis_lookup()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="table.html">Grammar</a></li>
<li class="toctree-l1"><a class="reference internal" href="table.html#oracles">Oracles</a></li>
<li class="toctree-l1"><a class="reference internal" href="sym_exec.html">Symbolic Execution utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="types.html">Types</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Advanced Usage</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../dev_doc/table.html">Lookup table Management</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">QSynthesis</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a></li>
      <li class="breadcrumb-item active">Top-Down Synthesizer</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/api/synthesis.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="top-down-synthesizer">
<h1>Top-Down Synthesizer<a class="headerlink" href="#top-down-synthesizer" title="Permalink to this heading"></a></h1>
<span class="target" id="label-topdown"></span><dl class="py class">
<dt class="sig sig-object py" id="qsynthesis.algorithms.synthesizer_td.TopDownSynthesizer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">qsynthesis.algorithms.synthesizer_td.</span></span><span class="sig-name descname"><span class="pre">TopDownSynthesizer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ltms</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="table.html#qsynthesis.tables.base.InputOutputOracle" title="qsynthesis.tables.base.InputOutputOracle"><span class="pre">InputOutputOracle</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.11)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="table.html#qsynthesis.tables.base.InputOutputOracle" title="qsynthesis.tables.base.InputOutputOracle"><span class="pre">InputOutputOracle</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">only_first_match</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">learning_new_exprs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/qsynthesis/algorithms/synthesizer_td.html#TopDownSynthesizer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#qsynthesis.algorithms.synthesizer_td.TopDownSynthesizer" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">SynthesizerBase</span></code></p>
<p>Synthesize with a Top-Down <strong>only</strong> AST search based on Triton AST.
The complexity in worst case of the search is then O(n) with
n the number of nodes in the AST to synthesize.</p>
<p>Constructor that takes one or multiple oracles as input.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ltms</strong> – Single oracle or a list</p></li>
<li><p><strong>only_first_match</strong> – boolean that stop interating over tables as soon as the lookup is successfull for one</p></li>
<li><p><strong>learning_new_exprs</strong> – boolean that enables improving the current table if if a synthesized entry appears
to be bigger than the one submitted</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="qsynthesis.algorithms.synthesizer_td.TopDownSynthesizer.eval_ast">
<span class="sig-name descname"><span class="pre">eval_ast</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ioast</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="tritonast.html#qsynthesis.tritonast.TritonAst" title="qsynthesis.tritonast.TritonAst"><span class="pre">TritonAst</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">input</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">qsynthesis.types.Input</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">qsynthesis.types.Output</span></span></span><a class="headerlink" href="#qsynthesis.algorithms.synthesizer_td.TopDownSynthesizer.eval_ast" title="Permalink to this definition"></a></dt>
<dd><p>Run evaluation of the TritonAst <cite>ioast</cite> on the given Input (valuation for all vars).
The result is an Output (integer)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ioast</strong> (<a class="reference internal" href="tritonast.html#qsynthesis.tritonast.TritonAst" title="qsynthesis.tritonast.TritonAst"><em>TritonAst</em></a>) – TritonAst to evaluate</p></li>
<li><p><strong>input</strong> (<a class="reference internal" href="types.html#qsynthesis.types.Input" title="qsynthesis.types.Input"><code class="xref py py-obj docutils literal notranslate"><span class="pre">qsynthesis.types.Input</span></code></a>) – Input on which to evaluate the AST. All variables of ioast must
be defined in input</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Output which is the result of evaluation (made by Triton)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="types.html#qsynthesis.types.Output" title="qsynthesis.types.Output"><code class="xref py py-obj docutils literal notranslate"><span class="pre">qsynthesis.types.Output</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="qsynthesis.algorithms.synthesizer_td.TopDownSynthesizer.run_direct_synthesis">
<span class="sig-name descname"><span class="pre">run_direct_synthesis</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ltm</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="table.html#qsynthesis.tables.base.InputOutputOracle" title="qsynthesis.tables.base.InputOutputOracle"><span class="pre">InputOutputOracle</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cur_ast</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="tritonast.html#qsynthesis.tritonast.TritonAst" title="qsynthesis.tritonast.TritonAst"><span class="pre">TritonAst</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.11)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="tritonast.html#qsynthesis.tritonast.TritonAst" title="qsynthesis.tritonast.TritonAst"><span class="pre">TritonAst</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#qsynthesis.algorithms.synthesizer_td.TopDownSynthesizer.run_direct_synthesis" title="Permalink to this definition"></a></dt>
<dd><p>Evaluate <cite>cur_ast</cite> on inputs provided by <cite>ltm</cite> the oracle which provide an
output vector then used to perform the lookup in the database. If an entry is found
it is returned.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ltm</strong> – InputOutputOracle object in which to perform the query</p></li>
<li><p><strong>cur_ast</strong> – TritonAst object to synthesize</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>optional TritonAst if the an entry was found</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="qsynthesis.algorithms.synthesizer_td.TopDownSynthesizer.synthesize">
<span class="sig-name descname"><span class="pre">synthesize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ioast</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="tritonast.html#qsynthesis.tritonast.TritonAst" title="qsynthesis.tritonast.TritonAst"><span class="pre">TritonAst</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">check_sem</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.11)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="tritonast.html#qsynthesis.tritonast.TritonAst" title="qsynthesis.tritonast.TritonAst"><span class="pre">TritonAst</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/qsynthesis/algorithms/synthesizer_td.html#TopDownSynthesizer.synthesize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#qsynthesis.algorithms.synthesizer_td.TopDownSynthesizer.synthesize" title="Permalink to this definition"></a></dt>
<dd><p>Perform the Top-Down search on the ioast to try synthesizing it. The algorithm first
tries to synthesize the root node. If not successful descend recursively in all children
of the AST to try substituting sub-ASTs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ioast</strong> – TritonAst object to synthesize</p></li>
<li><p><strong>check_sem</strong> – boolean one whether to check the semantic equivalence of expression
before substituting them. That ensure soundness of the synthesis</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>tuple with new TritonAst and whether some replacement took place or not</p>
</dd>
</dl>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Activating the <cite>check_sem</cite> parameter implies a strong overhead
on the synthesis as SMT queries are being performed for any candidates</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="qsynthesis.algorithms.synthesizer_td.TopDownSynthesizer.try_synthesis_lookup">
<span class="sig-name descname"><span class="pre">try_synthesis_lookup</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cur_ast</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="tritonast.html#qsynthesis.tritonast.TritonAst" title="qsynthesis.tritonast.TritonAst"><span class="pre">TritonAst</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">check_sem</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.11)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="tritonast.html#qsynthesis.tritonast.TritonAst" title="qsynthesis.tritonast.TritonAst"><span class="pre">TritonAst</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#qsynthesis.algorithms.synthesizer_td.TopDownSynthesizer.try_synthesis_lookup" title="Permalink to this definition"></a></dt>
<dd><p>Performs a direct synthesis lookup. And returns an optional TritonAst if it the
I/O evaluation has been found in one of the tables. Unlike <code class="xref py py-meth docutils literal notranslate"><span class="pre">SynthesizerBase.synthesize()</span></code>
which can go down the AST to try simplifying sub-AST here only the root node is
attempted to be synthesized.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cur_ast</strong> – TritonAst to synthesize</p></li>
<li><p><strong>check_sem</strong> – boolean on whether to check the semantic equivalence of expression
before performing substituting.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>optional TritonAst if the the AST has been synthesized</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="placeholder-based-synthesizer">
<h1>Placeholder-based Synthesizer<a class="headerlink" href="#placeholder-based-synthesizer" title="Permalink to this heading"></a></h1>
<span class="target" id="label-plhdr"></span><dl class="py class">
<dt class="sig sig-object py" id="qsynthesis.algorithms.synthesizer_plhld.PlaceHolderSynthesizer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">qsynthesis.algorithms.synthesizer_plhld.</span></span><span class="sig-name descname"><span class="pre">PlaceHolderSynthesizer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ltms</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Union" title="(in Python v3.11)"><span class="pre">Union</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="table.html#qsynthesis.tables.base.InputOutputOracle" title="qsynthesis.tables.base.InputOutputOracle"><span class="pre">InputOutputOracle</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.11)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="table.html#qsynthesis.tables.base.InputOutputOracle" title="qsynthesis.tables.base.InputOutputOracle"><span class="pre">InputOutputOracle</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">only_first_match</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">learning_new_exprs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/qsynthesis/algorithms/synthesizer_plhld.html#PlaceHolderSynthesizer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#qsynthesis.algorithms.synthesizer_plhld.PlaceHolderSynthesizer" title="Permalink to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">TopDownBottomUpSynthesizer</span></code></p>
<p>Synthesizer inherited from TopDownBottomUpSynthesizer which thus
form the search in that manner. The specificity of this synthesizer
is to temporarily replacing synthesized expressions with a placeholder
variable that will ‘abstract the behavior of the synthesized AST’. The
intended effect is to recursively synthesized previously synthesized
sub-AST (with these placeholders). At the end of the search all placeholder
variables are substituted by their associated synthesized expression.</p>
<p>Constructor that takes lookup tables as input.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ltms</strong> – Single lookup table of a list of them</p></li>
<li><p><strong>only_first_match</strong> – boolean that stop interating over tables as soon as the lookup is successfull for one</p></li>
<li><p><strong>learning_new_exprs</strong> – boolean that enables improving the current table if if a synthesized entry appears
to be bigger than the one submitted</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="qsynthesis.algorithms.synthesizer_plhld.PlaceHolderSynthesizer.eval_ast">
<span class="sig-name descname"><span class="pre">eval_ast</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ioast</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="tritonast.html#qsynthesis.tritonast.TritonAst" title="qsynthesis.tritonast.TritonAst"><span class="pre">TritonAst</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">input</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">qsynthesis.types.Input</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">qsynthesis.types.Output</span></span></span><a class="headerlink" href="#qsynthesis.algorithms.synthesizer_plhld.PlaceHolderSynthesizer.eval_ast" title="Permalink to this definition"></a></dt>
<dd><p>Run evaluation of the TritonAst <cite>ioast</cite> on the given Input (valuation for all vars).
The result is an Output (integer)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ioast</strong> (<a class="reference internal" href="tritonast.html#qsynthesis.tritonast.TritonAst" title="qsynthesis.tritonast.TritonAst"><em>TritonAst</em></a>) – TritonAst to evaluate</p></li>
<li><p><strong>input</strong> (<a class="reference internal" href="types.html#qsynthesis.types.Input" title="qsynthesis.types.Input"><code class="xref py py-obj docutils literal notranslate"><span class="pre">qsynthesis.types.Input</span></code></a>) – Input on which to evaluate the AST. All variables of ioast must
be defined in input</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Output which is the result of evaluation (made by Triton)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="types.html#qsynthesis.types.Output" title="qsynthesis.types.Output"><code class="xref py py-obj docutils literal notranslate"><span class="pre">qsynthesis.types.Output</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="qsynthesis.algorithms.synthesizer_plhld.PlaceHolderSynthesizer.replace_all">
<span class="sig-name descname"><span class="pre">replace_all</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ast</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="tritonast.html#qsynthesis.tritonast.TritonAst" title="qsynthesis.tritonast.TritonAst"><span class="pre">TritonAst</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">replacement</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.11)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="tritonast.html#qsynthesis.tritonast.TritonAst" title="qsynthesis.tritonast.TritonAst"><span class="pre">TritonAst</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="tritonast.html#qsynthesis.tritonast.TritonAst" title="qsynthesis.tritonast.TritonAst"><span class="pre">TritonAst</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recursive</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><span class="pre">None</span></a></span></span><a class="reference internal" href="../_modules/qsynthesis/algorithms/synthesizer_plhld.html#PlaceHolderSynthesizer.replace_all"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#qsynthesis.algorithms.synthesizer_plhld.PlaceHolderSynthesizer.replace_all" title="Permalink to this definition"></a></dt>
<dd><p>Performs the final replacement of Placeholder variable with their synthesized expression equivalence
in <cite>ast</cite> provided in parameter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ast</strong> – TritonAst object in which to perform all substitutions</p></li>
<li><p><strong>replacement</strong> – dictionnary of placeholder variable as TritonAst to synthesized expression (TritonAst)</p></li>
<li><p><strong>recursive</strong> – whether to also perform the substitution in synthesized expressions given in the dictionnary</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None as the <cite>ast</cite> object is modified in place</p>
</dd>
</dl>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>All the expressions to replace should be present only once because TritonAst objects
are not deepcopied. Thus duplicating it at various location of the AST would be various dangerous
for attributes coherence when calling update</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="qsynthesis.algorithms.synthesizer_plhld.PlaceHolderSynthesizer.run_direct_synthesis">
<span class="sig-name descname"><span class="pre">run_direct_synthesis</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ltm</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="table.html#qsynthesis.tables.base.InputOutputOracle" title="qsynthesis.tables.base.InputOutputOracle"><span class="pre">InputOutputOracle</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">cur_ast</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="tritonast.html#qsynthesis.tritonast.TritonAst" title="qsynthesis.tritonast.TritonAst"><span class="pre">TritonAst</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.11)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="tritonast.html#qsynthesis.tritonast.TritonAst" title="qsynthesis.tritonast.TritonAst"><span class="pre">TritonAst</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#qsynthesis.algorithms.synthesizer_plhld.PlaceHolderSynthesizer.run_direct_synthesis" title="Permalink to this definition"></a></dt>
<dd><p>Evaluate <cite>cur_ast</cite> on inputs provided by <cite>ltm</cite> the oracle which provide an
output vector then used to perform the lookup in the database. If an entry is found
it is returned.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ltm</strong> – InputOutputOracle object in which to perform the query</p></li>
<li><p><strong>cur_ast</strong> – TritonAst object to synthesize</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>optional TritonAst if the an entry was found</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="qsynthesis.algorithms.synthesizer_plhld.PlaceHolderSynthesizer.synthesize">
<span class="sig-name descname"><span class="pre">synthesize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ioast</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="tritonast.html#qsynthesis.tritonast.TritonAst" title="qsynthesis.tritonast.TritonAst"><span class="pre">TritonAst</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">check_sem</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Tuple" title="(in Python v3.11)"><span class="pre">Tuple</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="tritonast.html#qsynthesis.tritonast.TritonAst" title="qsynthesis.tritonast.TritonAst"><span class="pre">TritonAst</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../_modules/qsynthesis/algorithms/synthesizer_plhld.html#PlaceHolderSynthesizer.synthesize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#qsynthesis.algorithms.synthesizer_plhld.PlaceHolderSynthesizer.synthesize" title="Permalink to this definition"></a></dt>
<dd><p>Performs the placeholder based top-down and then bottom-up search for synthesizing
the given TritonAst.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>ioast</strong> – TritonAst object to synthesize</p></li>
<li><p><strong>check_sem</strong> – boolean one whether to check the semantic equivalence of expression
before substituting them. That ensure soundness of the synthesis</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>tuple with new TritonAst and whether some replacement took place or not</p>
</dd>
</dl>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Activating the <cite>check_sem</cite> parameter implies a strong overhead
on the synthesis as SMT queries are being performed for any candidates</p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="qsynthesis.algorithms.synthesizer_plhld.PlaceHolderSynthesizer.try_synthesis_lookup">
<span class="sig-name descname"><span class="pre">try_synthesis_lookup</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cur_ast</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="tritonast.html#qsynthesis.tritonast.TritonAst" title="qsynthesis.tritonast.TritonAst"><span class="pre">TritonAst</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">check_sem</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Optional" title="(in Python v3.11)"><span class="pre">Optional</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="tritonast.html#qsynthesis.tritonast.TritonAst" title="qsynthesis.tritonast.TritonAst"><span class="pre">TritonAst</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#qsynthesis.algorithms.synthesizer_plhld.PlaceHolderSynthesizer.try_synthesis_lookup" title="Permalink to this definition"></a></dt>
<dd><p>Performs a direct synthesis lookup. And returns an optional TritonAst if it the
I/O evaluation has been found in one of the tables. Unlike <code class="xref py py-meth docutils literal notranslate"><span class="pre">SynthesizerBase.synthesize()</span></code>
which can go down the AST to try simplifying sub-AST here only the root node is
attempted to be synthesized.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cur_ast</strong> – TritonAst to synthesize</p></li>
<li><p><strong>check_sem</strong> – boolean on whether to check the semantic equivalence of expression
before performing substituting.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>optional TritonAst if the the AST has been synthesized</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="tritonast.html" class="btn btn-neutral float-left" title="TritonAst" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="table.html" class="btn btn-neutral float-right" title="Grammar" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, Quarkslab.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>